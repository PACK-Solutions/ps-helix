/* Component-Specific Design Tokens */
.avatar {
  --avatar-size-sm: var(--size-8);        /* 32px */
  --avatar-size-md: var(--size-10);       /* 40px */
  --avatar-size-lg: var(--size-12);       /* 48px */
  --avatar-size-xl: var(--size-16);       /* 64px */
  --avatar-icon-size-sm: var(--icon-size-sm);   /* 16px */
  --avatar-icon-size-md: var(--icon-size-md);   /* 20px */
  --avatar-icon-size-lg: var(--icon-size-lg);   /* 24px */
  --avatar-icon-size-xl: var(--icon-size-xl);   /* 32px */
  --avatar-status-size-sm: var(--size-2-5);     /* 10px */
  --avatar-status-size-md: var(--size-3);       /* 12px */
  --avatar-status-size-lg: var(--size-3-5);     /* 14px */
  --avatar-status-size-xl: var(--size-4);       /* 16px */
  --avatar-status-border: var(--border-width-2);
  --avatar-status-offset-sm: calc(-1 * var(--size-px));
  --avatar-status-offset-md: calc(-1 * var(--border-width-2));
  --avatar-status-offset-xl: calc(-1 * var(--size-1));

  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: var(--avatar-size-md);
  height: var(--avatar-size-md);
  background: var(--surface-ground);
  color: var(--text-color);
  font-weight: var(--font-weight-medium);
}

/* Background styles for icon and initials */
.avatar:not(:has(img)) {
  background: rgba(var(--primary-color-rgb), 0.1);
  color: var(--primary-color);
  overflow: hidden;
}

/* Optional subtle gradient overlay */
.avatar:not(:has(img))::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    45deg,
    transparent,
    rgba(var(--primary-color-rgb), 0.05)
  );
  z-index: 1;
}

/* Ensure content stays above gradient */
.avatar i,
.avatar-initials {
  position: relative;
  z-index: 2;
}

/* Variants */
.avatar.circle {
  border-radius: 50%;
}

.avatar.square {
  border-radius: var(--border-radius);
}

/* Sizes */
.avatar.small {
  width: var(--avatar-size-sm);
  height: var(--avatar-size-sm);
  font-size: var(--font-size-sm);
}

.avatar.small i {
  font-size: var(--avatar-icon-size-sm);
}

.avatar.large {
  width: var(--avatar-size-lg);
  height: var(--avatar-size-lg);
  font-size: var(--font-size-lg);
}

.avatar.large i {
  font-size: var(--avatar-icon-size-lg);
}

.avatar.xlarge {
  width: var(--avatar-size-xl);
  height: var(--avatar-size-xl);
  font-size: var(--font-size-xl);
}

.avatar.xlarge i {
  font-size: var(--avatar-icon-size-xl);
}

/* Image */
.avatar-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: inherit;
  overflow: hidden;
}

/* Initials */
.avatar-initials {
  line-height: 1;
  text-transform: uppercase;
  border-radius: inherit;
}

/* Status indicator */
.avatar-status {
  position: absolute;
  bottom: var(--avatar-status-offset-md);
  right: var(--avatar-status-offset-md);
  width: var(--avatar-status-size-md);
  height: var(--avatar-status-size-md);
  border: var(--avatar-status-border) solid var(--surface-card);
  border-radius: var(--radius-full);
  z-index: 3;
}

.avatar.small .avatar-status {
  width: var(--avatar-status-size-sm);
  height: var(--avatar-status-size-sm);
  bottom: var(--avatar-status-offset-sm);
  right: var(--avatar-status-offset-sm);
}

.avatar.large .avatar-status {
  width: var(--avatar-status-size-lg);
  height: var(--avatar-status-size-lg);
  bottom: var(--avatar-status-offset-md);
  right: var(--avatar-status-offset-md);
}

.avatar.xlarge .avatar-status {
  width: var(--avatar-status-size-xl);
  height: var(--avatar-status-size-xl);
  bottom: var(--avatar-status-offset-xl);
  right: var(--avatar-status-offset-xl);
}

