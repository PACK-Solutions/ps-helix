<ds-demo-page-layout
  title="Système d'Onglets"
  introText="Les onglets permettent d'organiser et de naviguer entre différentes sections de contenu dans un même espace. Ils offrent une navigation claire et intuitive pour structurer l'information de manière hiérarchique."
  [showTechnicalSection]="false"
>
  <div demo-content>
    <!-- Onglets Basiques - Section Pleine Largeur -->
    <section class="tabs-basic-section">
      <h3 class="section-title">Onglets Basiques</h3>
      <div class="basic-container">
        <div class="basic-intro">
          <p>Les onglets de base permettent d'organiser le contenu en sections distinctes avec une navigation simple et intuitive. Idéal pour structurer l'information sans surcharger l'interface.</p>
        </div>
        <div class="basic-content">
          <div class="basic-demo">
            <div class="demo-preview">
              <psh-tabs>
                <psh-tab header="Accueil" icon="house">
                  <h4>Page d'accueil</h4>
                  <p>Bienvenue sur la page d'accueil de votre tableau de bord.</p>
                </psh-tab>
                <psh-tab header="Documents" icon="file-text">
                  <h4>Vos documents</h4>
                  <p>Accédez à tous vos documents et fichiers importants.</p>
                </psh-tab>
                <psh-tab header="Paramètres" icon="gear">
                  <h4>Configuration</h4>
                  <p>Personnalisez vos préférences et paramètres.</p>
                </psh-tab>
              </psh-tabs>
            </div>
          </div>
          <div class="basic-doc">
            <h4>Caractéristiques</h4>
            <ul class="feature-list">
              <li><strong>Navigation intuitive</strong> : Changement de section au clic sur chaque onglet</li>
              <li><strong>Support des icônes</strong> : Icônes Phosphor pour renforcer la compréhension visuelle</li>
              <li><strong>Contenu projeté</strong> : Utilisez ng-content pour un contenu flexible</li>
              <li><strong>État actif</strong> : Indication visuelle claire de l'onglet sélectionné</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- API Moderne avec psh-tab - Section Pleine Largeur -->
    <section class="tabs-modern-section">
      <h3 class="section-title">API Moderne avec psh-tab (Recommandé)</h3>
      <div class="modern-container">
        <div class="modern-intro">
          <p>L'API moderne utilise le composant <code>psh-tab</code> pour une syntaxe plus claire et déclarative. Cette approche offre une meilleure expérience TypeScript et un contrôle plus fin sur chaque onglet.</p>
        </div>
        <div class="modern-grid">
          <div class="modern-card">
            <div class="modern-preview">
              <psh-tabs [(activeIndex)]="activeIndex">
                <psh-tab header="Tableau de bord" icon="squares-four">
                  <h4>Vue d'ensemble</h4>
                  <p>Statistiques et métriques principales de votre activité.</p>
                </psh-tab>
                <psh-tab header="Profil" icon="user">
                  <h4>Profil utilisateur</h4>
                  <p>Gérez vos informations personnelles et préférences.</p>
                </psh-tab>
                <psh-tab header="Notifications" icon="bell">
                  <h4>Centre de notifications</h4>
                  <p>Consultez toutes vos notifications et alertes.</p>
                </psh-tab>
              </psh-tabs>
              <p class="demo-info">Index actif : {{ activeIndex() }}</p>
            </div>
            <div class="modern-info">
              <h4>Two-Way Binding</h4>
              <p>Synchronisation automatique de l'état avec <code>[(activeIndex)]</code> pour un contrôle bidirectionnel complet.</p>
              <ds-code-snippet [code]="twoWayBindingCode" />
            </div>
          </div>

          <div class="modern-card">
            <div class="modern-preview">
              <psh-tabs>
                <psh-tab header="Informations">
                  <p>Contenu sans icône pour un style épuré et minimaliste.</p>
                </psh-tab>
                <psh-tab header="Historique">
                  <p>Navigation textuelle simple et directe.</p>
                </psh-tab>
                <psh-tab header="Paramètres">
                  <p>Organisation claire du contenu par sections.</p>
                </psh-tab>
              </psh-tabs>
            </div>
            <div class="modern-info">
              <h4>Onglets Sans Icônes</h4>
              <p>Utilisez des onglets textuels pour un design épuré. Parfait pour les interfaces minimalistes ou les sections avec des labels explicites.</p>
              <ds-code-snippet [code]="withoutIconsCode" />
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Utilisation Programmatique - Section Pleine Largeur -->
    <section class="tabs-programmatic-section">
      <h3 class="section-title">Utilisation Programmatique</h3>
      <div class="programmatic-container">
        <div class="programmatic-intro">
          <p>Passez un tableau d'objets Tab pour gérer les onglets dynamiquement. Cette approche permet un contrôle total sur les onglets via TypeScript, idéale pour les données dynamiques.</p>
        </div>
        <div class="programmatic-content">
          <div class="programmatic-demo">
            <div class="demo-preview">
              <psh-tabs
                [tabs]="programmaticTabs"
                [(activeIndex)]="activeIndex2"
                (tabChange)="handleTabChange($event)"
              ></psh-tabs>
              @if (lastChange()) {
                <p class="demo-info change-info">{{ lastChange() }}</p>
              }
            </div>
          </div>
          <div class="programmatic-doc">
            <h4>Fonctionnalités Programmatiques</h4>
            <ul class="feature-list">
              <li><strong>Onglets dynamiques</strong> : Créez et modifiez les onglets depuis TypeScript</li>
              <li><strong>Événement tabChange</strong> : Réagissez aux changements avec contexte complet</li>
              <li><strong>Onglets désactivés</strong> : Contrôlez la disponibilité via la propriété <code>disabled</code></li>
              <li><strong>Navigation programmatique</strong> : Méthodes <code>selectNext()</code>, <code>selectPrevious()</code></li>
            </ul>
            <ds-code-snippet [code]="programmaticCode" />
          </div>
        </div>
      </div>
    </section>

    <!-- Variantes de Style - Section Pleine Largeur -->
    <section class="tabs-variants-section">
      <h3 class="section-title">Variantes de Style</h3>
      <div class="variants-container">
        <div class="variants-intro">
          <p>Trois variantes visuelles sont disponibles pour s'adapter à différents contextes de design et niveaux d'emphase visuelle.</p>
        </div>
        <div class="variants-grid">
          <div class="variant-card">
            <div class="variant-preview">
              <psh-tabs variant="default">
                <psh-tab header="Accueil">
                  <p>Style par défaut avec fond et bordures distinctes pour une hiérarchie claire.</p>
                </psh-tab>
                <psh-tab header="Profil">
                  <p>Séparation visuelle nette entre les onglets et le contenu.</p>
                </psh-tab>
                <psh-tab header="Paramètres">
                  <p>Idéal pour les interfaces nécessitant une structure définie.</p>
                </psh-tab>
              </psh-tabs>
            </div>
            <div class="variant-info">
              <h4>Default</h4>
              <p>Style par défaut avec fond coloré et bordures. Offre la meilleure séparation visuelle entre les onglets et convient à la plupart des cas d'usage.</p>
              <ds-code-snippet [code]="defaultVariantCode" />
            </div>
          </div>

          <div class="variant-card">
            <div class="variant-preview">
              <psh-tabs variant="underline">
                <psh-tab header="Information">
                  <p>Style minimaliste avec soulignement élégant et animé.</p>
                </psh-tab>
                <psh-tab header="Détails">
                  <p>Design discret qui met en valeur le contenu principal.</p>
                </psh-tab>
                <psh-tab header="Options">
                  <p>Parfait pour les interfaces épurées et modernes.</p>
                </psh-tab>
              </psh-tabs>
            </div>
            <div class="variant-info">
              <h4>Underline</h4>
              <p>Style minimaliste avec ligne de soulignement animée. Idéal pour les designs épurés qui nécessitent une navigation discrète sans alourdir l'interface.</p>
              <ds-code-snippet [code]="underlineVariantCode" />
            </div>
          </div>

          <div class="variant-card">
            <div class="variant-preview">
              <psh-tabs variant="pills">
                <psh-tab header="Vue d'ensemble">
                  <p>Design impactant avec fond coloré et coins arrondis.</p>
                </psh-tab>
                <psh-tab header="Spécifications">
                  <p>Style moderne qui attire l'attention sur la navigation.</p>
                </psh-tab>
                <psh-tab header="Ressources">
                  <p>Excellent pour les interfaces dynamiques et engageantes.</p>
                </psh-tab>
              </psh-tabs>
            </div>
            <div class="variant-info">
              <h4>Pills</h4>
              <p>Style avec fond coloré et coins arrondis prononcés. Apporte une touche moderne et dynamique, parfait pour les interfaces jeunes ou les applications créatives.</p>
              <ds-code-snippet [code]="pillsVariantCode" />
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Tailles Disponibles - Section Pleine Largeur -->
    <section class="tabs-sizes-section">
      <h3 class="section-title">Tailles Disponibles</h3>
      <div class="sizes-container">
        <div class="sizes-intro">
          <p>Trois tailles sont disponibles pour s'adapter à différentes densités d'interface et contextes d'utilisation, du compact au tactile.</p>
        </div>
        <div class="sizes-grid">
          <div class="size-card">
            <div class="size-preview">
              <psh-tabs size="small">
                <psh-tab header="Petit" icon="minus-circle">
                  <p>Taille compacte pour les interfaces denses nécessitant un gain d'espace optimal.</p>
                </psh-tab>
                <psh-tab header="Onglet" icon="circle">
                  <p>Idéal pour les tableaux de bord complexes et les panneaux latéraux.</p>
                </psh-tab>
              </psh-tabs>
            </div>
            <div class="size-info">
              <h4>Small</h4>
              <div class="size-specs">
                <span class="size-dimension">32px de hauteur</span>
                <code class="size-code">size="small"</code>
              </div>
              <p class="size-usage">Taille compacte pour les interfaces denses, les zones de navigation secondaires ou les espaces restreints nécessitant une optimisation maximale.</p>
            </div>
          </div>

          <div class="size-card">
            <div class="size-preview">
              <psh-tabs size="medium">
                <psh-tab header="Moyen" icon="circle">
                  <p>Taille équilibrée offrant un bon compromis entre lisibilité et encombrement.</p>
                </psh-tab>
                <psh-tab header="Onglet" icon="circle">
                  <p>Convient à la majorité des cas d'usage standard des applications.</p>
                </psh-tab>
              </psh-tabs>
            </div>
            <div class="size-info">
              <h4>Medium (Défaut)</h4>
              <div class="size-specs">
                <span class="size-dimension">40px de hauteur</span>
                <code class="size-code">size="medium"</code>
              </div>
              <p class="size-usage">Taille par défaut, équilibrée pour la plupart des cas d'usage. Offre une excellente lisibilité sur tous les appareils avec un bon équilibre visuel.</p>
            </div>
          </div>

          <div class="size-card">
            <div class="size-preview">
              <psh-tabs size="large">
                <psh-tab header="Grand" icon="plus-circle">
                  <p>Grande taille pour une visibilité maximale et une accessibilité tactile optimale.</p>
                </psh-tab>
                <psh-tab header="Onglet" icon="circle">
                  <p>Parfait pour les interfaces mobiles et les écrans tactiles nécessitant de grandes zones d'interaction.</p>
                </psh-tab>
              </psh-tabs>
            </div>
            <div class="size-info">
              <h4>Large</h4>
              <div class="size-specs">
                <span class="size-dimension">48px de hauteur</span>
                <code class="size-code">size="large"</code>
              </div>
              <p class="size-usage">Grande taille pour une visibilité accrue et une meilleure accessibilité tactile. Idéal pour les interfaces mobiles, les kiosques ou les publics nécessitant des cibles plus grandes.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Documentation API - Section Pleine Largeur -->
    <section class="api-section">
      <h3 class="section-title">Documentation API</h3>
      <div class="api-container">
        <div class="api-intro">
          <p>Le composant Tabs utilise des <strong>model inputs</strong> et des <strong>signals</strong> pour une API moderne et performante, conforme aux standards Angular 20.</p>
        </div>

        <div class="api-table-wrapper">
          <h4>Propriétés (Input Signals)</h4>
          <table class="api-table">
            <thead>
              <tr>
                <th>Propriété</th>
                <th>Type</th>
                <th>Défaut</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>variant</code></td>
                <td><code>TabsVariant</code></td>
                <td><code>'default'</code></td>
                <td>'default' | 'underline' | 'pills' - Style visuel des onglets</td>
              </tr>
              <tr>
                <td><code>size</code></td>
                <td><code>TabsSize</code></td>
                <td><code>'medium'</code></td>
                <td>'small' | 'medium' | 'large' - Taille des onglets</td>
              </tr>
              <tr>
                <td><code>animated</code></td>
                <td><code>boolean</code></td>
                <td><code>true</code></td>
                <td>Active les animations de transition entre onglets</td>
              </tr>
              <tr>
                <td><code>tabs</code></td>
                <td><code>Tab[]</code></td>
                <td><code>undefined</code></td>
                <td>Tableau d'onglets pour usage programmatique (optionnel)</td>
              </tr>
              <tr>
                <td><code>ariaLabel</code></td>
                <td><code>string</code></td>
                <td><code>undefined</code></td>
                <td>Label ARIA personnalisé pour l'accessibilité</td>
              </tr>
              <tr>
                <td><code>ariaOrientation</code></td>
                <td><code>'horizontal' | 'vertical'</code></td>
                <td><code>'horizontal'</code></td>
                <td>Orientation ARIA pour les lecteurs d'écran</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="api-table-wrapper">
          <h4>Model (Two-way binding)</h4>
          <table class="api-table">
            <thead>
              <tr>
                <th>Propriété</th>
                <th>Type</th>
                <th>Défaut</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>activeIndex</code></td>
                <td><code>number</code></td>
                <td><code>0</code></td>
                <td>Index de l'onglet actif (0-based). Utiliser avec [(activeIndex)]</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="api-table-wrapper">
          <h4>Événements (Outputs)</h4>
          <table class="api-table">
            <thead>
              <tr>
                <th>Événement</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>activeIndexChange</code></td>
                <td><code>EventEmitter&lt;number&gt;</code></td>
                <td>Émis lors du changement d'onglet avec le nouvel index</td>
              </tr>
              <tr>
                <td><code>tabChange</code></td>
                <td><code>EventEmitter&lt;TabChangeEvent&gt;</code></td>
                <td>Événement enrichi avec index précédent, index actuel et données de l'onglet</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="api-table-wrapper">
          <h4>Méthodes Publiques</h4>
          <table class="api-table">
            <thead>
              <tr>
                <th>Méthode</th>
                <th>Signature</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>selectTab</code></td>
                <td><code>(index: number) =&gt; void</code></td>
                <td>Sélectionne un onglet par son index. Ignore les onglets désactivés</td>
              </tr>
              <tr>
                <td><code>selectNext</code></td>
                <td><code>() =&gt; void</code></td>
                <td>Sélectionne l'onglet suivant (ignore les désactivés, boucle en fin de liste)</td>
              </tr>
              <tr>
                <td><code>selectPrevious</code></td>
                <td><code>() =&gt; void</code></td>
                <td>Sélectionne l'onglet précédent (ignore les désactivés, boucle en début de liste)</td>
              </tr>
              <tr>
                <td><code>getActiveTab</code></td>
                <td><code>() =&gt; Tab | undefined</code></td>
                <td>Retourne l'objet Tab actuellement actif</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="api-usage-example">
          <h4>Exemple d'Utilisation Complète</h4>
          <div class="code-block">
            <pre><code>import &#123; PshTabsComponent, PshTabComponent, TabChangeEvent &#125; from 'ps-helix';

&#64;Component(&#123;
  standalone: true,
  imports: [PshTabsComponent, PshTabComponent],
  template: `
    &lt;psh-tabs
      [(activeIndex)]="selectedIndex"
      variant="default"
      size="medium"
      [animated]="true"
      ariaLabel="Navigation principale"
      (tabChange)="handleTabChange($event)"
    &gt;
      &lt;psh-tab header="Tableau de bord" icon="squares-four"&gt;
        &lt;h3&gt;Vue d'ensemble&lt;/h3&gt;
        &lt;p&gt;Statistiques et métriques principales&lt;/p&gt;
      &lt;/psh-tab&gt;
      &lt;psh-tab header="Profil" icon="user"&gt;
        &lt;h3&gt;Profil utilisateur&lt;/h3&gt;
        &lt;p&gt;Gérez vos informations personnelles&lt;/p&gt;
      &lt;/psh-tab&gt;
      &lt;psh-tab header="Paramètres" icon="gear"&gt;
        &lt;h3&gt;Configuration&lt;/h3&gt;
        &lt;p&gt;Personnalisez vos préférences&lt;/p&gt;
      &lt;/psh-tab&gt;
    &lt;/psh-tabs&gt;
  `
&#125;)
export class MyComponent &#123;
  selectedIndex = 0;

  handleTabChange(event: TabChangeEvent): void &#123;
    console.log('Tab changed from', event.previousIndex, 'to', event.currentIndex);
    console.log('Active tab:', event.tab);
  &#125;
&#125;</code></pre>
          </div>
        </div>

        <div class="api-best-practices">
          <h4>Bonnes Pratiques d'Accessibilité</h4>
          <ul class="best-practices-list">
            <li><strong>Navigation clavier</strong> : Les onglets supportent <kbd>Tab</kbd> (focus), <kbd>←</kbd>/<kbd>→</kbd> (navigation), <kbd>Home</kbd>/<kbd>End</kbd> (début/fin), <kbd>Enter</kbd>/<kbd>Space</kbd> (activation)</li>
            <li><strong>Rôles ARIA</strong> : Les attributs <code>role="tablist"</code>, <code>role="tab"</code> et <code>role="tabpanel"</code> sont automatiquement appliqués</li>
            <li><strong>États ARIA</strong> : <code>aria-selected</code> indique l'onglet actif, <code>aria-disabled</code> pour les onglets désactivés</li>
            <li><strong>Labels descriptifs</strong> : Utilisez <code>ariaLabel</code> pour décrire le groupe d'onglets aux utilisateurs de lecteurs d'écran</li>
            <li><strong>Focus visible</strong> : Un indicateur de focus clair entoure l'onglet lors de la navigation au clavier avec un ratio de contraste conforme WCAG 2.1</li>
            <li><strong>Annonces</strong> : Les changements d'onglets sont automatiquement annoncés aux lecteurs d'écran via les attributs ARIA appropriés</li>
            <li><strong>Icônes décoratives</strong> : Les icônes sont marquées <code>aria-hidden="true"</code> pour éviter la pollution sonore des lecteurs d'écran</li>
          </ul>
        </div>
      </div>
    </section>
  </div>
</ds-demo-page-layout>
